{% extends 'base.html' %}
{% load bootstrap_pagination %}

{% block css %}
<style>
#movie:hover {
  background-color:#000;
  opacity:0.5;
  border-radius:30px;
}
</style>
{% endblock %}


{% block app %}
  <h1 class="text-center mt-3 badge-warning"> 날씨기반 추천 알고리즘 </h1>
  <div class="alert alert-dark">
    <strong><p class="text-center"> 오늘의 날씨 <img src="{{ IMG_URL }}"> : {% for genre in genre_list %}<span class="badge badge-pill badge-info ml-3">{{ genre }}</span>{% endfor %} 의 장르를 추천합니다.</p></strong>
  </div>
  <hr>

  <!-- carousel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      {% for reco_movie in reco_movies %}
        {% if forloop.counter0 %}
          <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}"></li>
        {% else %}
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        {% endif %}
      {% endfor %}
    </ol>
    <div class="carousel-inner">
      {% for reco_movie in reco_movies %}
        {% if forloop.counter0 %}
          <div class="carousel-item">
            <a href="{% url 'movies:detail' reco_movie.pk %}">
              <img src="{{ reco_movie.poster_path }}" class="d-block w-100" alt="..." style="height: 75vw;">
            </a>
          </div>
        {% else %}
          <div class="carousel-item active">
            <a href="{% url 'movies:detail' reco_movie.pk %}">
              <img src="{{ reco_movie.poster_path }}" class="d-block w-100" alt="..." style="height: 75vw;">
            </a>
          </div>
        {% endif %}
      {% endfor %}

    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>


  <!-- 영화 목록 -->
  <h1 class="text-center mt-3"> 영화 목록 </h1>
  <hr>
  <div class="row">
  {% for movie in page_obj %}
    <div class="card col-12 col-sm-6 col-lg-4 col-xl-3" style="width: 18rem; height: 24rem;">
      <a href="{% url 'movies:detail' movie.pk %}"><img id="movie" src="{{ movie.poster_path }}" class="card-img-top" alt="..." ></a>
    </div>
  {% endfor %}
  </div>
  <div class="d-flex justify-content-center mt-3">
    {% bootstrap_paginate page_obj range=10 show_prev_next="false" show_first_last="true" %}
  </div>
{% endblock %}
